<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Meal Mapper - Manolo Fortich, Bukidnon</title>
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
    <style>
        body {
            font-family: Arial, sans-serif;
            background: #f7f7f7;
            text-align: center;
            padding: 20px;
        }
        .header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }
        h1 {
            color: #333;
            margin: 0;
        }
        .container {
            margin-top: 20px;
        }
        #recipeList {
            margin-bottom: 20px;
        }
        #recipeList button {
            padding: 10px 15px;
            margin: 5px;
            border: none;
            background-color: #2196F3;
            color: white;
            font-size: 14px;
            border-radius: 5px;
            cursor: pointer;
        }
        #recipeList button:hover {
            background-color: #0b7dda;
        }
        input[type="text"] {
            width: 300px;
            padding: 10px;
            border: 2px solid #ccc;
            border-radius: 5px;
        }
        button {
            padding: 12px 20px;
            margin: 10px;
            border: none;
            background-color: #4CAF50;
            color: white;
            font-size: 16px;
            border-radius: 5px;
            cursor: pointer;
        }
        button:hover {
            background-color: #45a049;
        }
        #content {
            display: flex;
            justify-content: space-between;
            margin-top: 20px;
        }
        #map {
            height: 500px;
            width: 50%;
            border: 1px solid #ccc;
            border-radius: 5px;
        }
        #ingredientsSection {
            width: 45%;
            padding: 20px;
            background: #fff;
            border-radius: 5px;
            box-shadow: 0 0 10px rgba(0,0,0,0.1);
            text-align: left;
        }
        #ingredientsSection h2 {
            margin-top: 0;
        }
        #ingredientsList {
            list-style-type: none;
            padding: 0;
        }
        #ingredientsList li {
            background: #f0f0f0;
            margin: 5px 0;
            padding: 10px;
            border-radius: 5px;
            cursor: pointer;
            transition: background 0.3s;
        }
        #ingredientsList li:hover {
            background: #e0e0e0;
        }
        .popup-image {
            width: 100px;
            height: 75px;
            object-fit: cover;
            border-radius: 5px;
            margin-bottom: 5px;
        }
        #weather {
            margin-bottom: 20px;
            font-size: 18px;
            color: #333;
        }
    </style>
</head>
<body>

    <div class="header">
        <h1>Meal Mapper - Manolo Fortich, Bukidnon</h1>
        <button onclick="window.location.href='aboutUs.html'">About Us</button>
    </div>
    <div id="weather">Loading weather...</div>
    <p>Click on a recipe below or search for one to view ingredients on the right. Click an ingredient to see its locations on the map.</p>


    <div class="container">
        <input id="recipeInput" type="text" placeholder="Enter a recipe (e.g., Chicken Curry)">
        <button onclick="searchRecipe()">Search Recipe</button>


    <div id="content">
        <div id="map"></div>
        <div id="ingredientsSection" style="display: none;">
            <h2 id="recipeTitle"></h2>
            <h3>Ingredients (click to view locations):</h3>
            <ul id="ingredientsList"></ul>
        </div>
    </div>

    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>

    <script>
      
        const API_KEY = "a1b9951b7ddca3545a7819dbed192895";  
        const lat = 8.3667, lon = 124.8667;
        const weatherBox = document.getElementById("weather");

        function loadWeather(retry = 0) {
            weatherBox.innerHTML = "⏳ Updating weather...";
            fetch(`https://api.openweathermap.org/data/2.5/weather?lat=${lat}&lon=${lon}&appid=${API_KEY}&units=metric`)
                .then(res => {
                    if (!res.ok) throw new Error(`HTTP ${res.status}`);
                    return res.json();
                })
                .then(data => {
                    if (!data.main || !data.weather) throw new Error("Invalid data structure");
                    weatherBox.innerHTML = `
                        <img src="https://openweathermap.org/img/wn/${data.weather[0].icon}.png">
                        <b>${data.main.temp}°C</b> – ${data.weather[0].description}
                    `;
                })
                .catch(error => {
                    if (retry < 3) {
                        return setTimeout(() => loadWeather(retry + 1), 1500);
                    }
                    
                    weatherBox.innerHTML = `
                        <img src="https://openweathermap.org/img/wn/01d.png">
                        <b>25°C</b> – Clear sky (Mock Data)
                    `;
                });
        }
        loadWeather();  

        setInterval(loadWeather, 300000)

        let images = {};

        function normalizeKey(k) {
            if (!k) return '';
            return String(k).toLowerCase().trim().replace(/\s+/g, '_').replace(/[\/\\]/g, '_').replace(/[^\w\-]/g, '_');
        }

        function getImageUrl(key) {
            if (!key) return '';
            if (images[key]) return images[key];
            const nk = normalizeKey(key);
            return images[nk] || '';
        }

        fetch("index.json")
            .then(response => {
                if (!response.ok) throw new Error(`HTTP ${response.status}`);
                return response.json();
            })
            .then(data => {
                Object.keys(data).forEach(k => {
                    images[k] = data[k];
                    images[normalizeKey(k)] = data[k];
                });
            })
            .catch(err => console.error("Failed to load index.json:", err));


        const terrainLayer = L.tileLayer(
            'https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', 
            {
                maxZoom: 19,
                attribution: '&copy; OpenStreetMap contributors'
            }
        );

        const satelliteLayer = L.tileLayer(
            'https://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}', 
            {
                maxZoom: 19,
                attribution: 'Tiles © Esri'
            }
        );

        const map = L.map('map', {
            center: [8.3667, 124.8667],
            zoom: 13,
            layers: [terrainLayer]   
        });

        const baseMaps = {
            "Terrain Map": terrainLayer,
            "Satellite Map": satelliteLayer
        };

        L.control.layers(baseMaps).addTo(map);

        let markers = [];

       
        const customIcon = L.icon({
            iconUrl: 'https://cdn-icons-png.flaticon.com/512/8670/8670612.png',  
            iconSize: [35, 35],  
            iconAnchor: [12, 12],  
            popupAnchor: [0, -12]  
        });

        const mockRecipes = {
            "chicken curry": {
                title: "Chicken Curry",
                ingredients: [
                    { name: "Chicken", price: 250, locations: [
                        { lat: 8.3672, lng: 124.8672, store: "Prince Hypermart", price: 250, imageKey: "Prince Hypermart" }, 
                        { lat: 8.365349546725271, lng: 124.86514988080557, store: "Chick Inn", price: 240, imageKey: "Chick Inn" },
                        { lat: 8.366643176935309, lng: 124.86381749147706, store: "Aj's Chicken Station", price: 245, imageKey: "Aj's Chicken Station" }
                    ]},
                    { name: "Curry Powder", price: 50, locations: [
                        { lat: 8.3672, lng: 124.8672, store: "Prince Hypermart", price: 50, imageKey: "Prince Hypermart" },  
                        { lat: 8.368036316822822, lng: 124.86738480853599, store: "Ck Mart", price: 55, imageKey: "Ck Mart" },
                        { lat: 8.365606756516602, lng: 124.86520285192277, store: "Manolo Fortich Public Market", price: 52, imageKey: "Public Market" },
                        { lat: 8.366676076358782, lng: 124.8647116150032, store: "Local Vendor", price: 35, imageKey: "Local Vendor" }
                    ]},
                    { name: "Onion", price: 30, locations: [
                        { lat: 8.365575363390583, lng: 124.86521825090732, store: "Manolo Fortich Public Market", price: 30, imageKey: "Public Market" },   
                        { lat: 8.366676076358782, lng: 124.8647116150032, store: "Local Vendor", price: 35, imageKey: "Local Vendor" }
                    ]}
                ]
            },
            "pasta": {
                title: "Pasta",
                ingredients: [
                    { name: "Pasta", price: 80, locations: [
                        { lat: 8.3657, lng: 124.8651, store: "Manolo Fortich Public Market", price: 80, imageKey: "Public Market" },
                        { lat: 8.366676076358782, lng: 124.8647116150032, store: "Local Vendor", price: 75, imageKey: "Local Vendor" },
                         { lat: 8.36755194100574, lng: 124.86514572750262, store: "7/11", price: 78, imageKey: "7/11" },
                         { lat: 8.368036316822822, lng: 124.86738480853599, store: "Ck Mart", price: 75, imageKey: "Ck Mart" },
                           { lat: 8.3672, lng: 124.8672, store: "Prince Hypermart", price: 78, imageKey: "Prince Hypermart" } 
                    ]},
                    { name: "Tomato Sauce", price: 60, locations: [
                         { lat: 8.3657, lng: 124.8651, store: "Manolo Fortich Public Market", price: 60, imageKey: "Public Market" },
                         { lat: 8.3672, lng: 124.8672, store: "Prince Hypermart", price: 65, imageKey: "Prince Hypermart" },
                         { lat: 8.363752734329369, lng: 124.86973813434287, store: "Mom and Pap's", price: 60, imageKey: "MapandPap's" },
                           { lat: 8.368036316822822, lng: 124.86738480853599, store: "Ck Mart", price: 62, imageKey: "Ck Mart" },
                          { lat: 8.366676076358782, lng: 124.8647116150032, store: "Local Vendor", price: 60, imageKey: "Local Vendor" },
                        { lat: 8.36755194100574, lng: 124.86514572750262, store: "7/11", price: 62, imageKey: "7/11" } 
                    ]}
                ]
            },

            "fruit salad":{
                title: "Fruit Salad",
                ingredients:[
                    {name: "Mango", price: 100, locations:[
                        {lat:8.36736, lng:124.86700, store:"Fruit Stand Near Hypermart", price:95, imageKey:"FruitStand(Hypermart)"},
                        { lat: 8.3657, lng: 124.8651, store: "Manolo Fortich Public Market", price: 85, imageKey: "Public Market" },
                        {lat:8.366493398860603, lng:124.86561119174547, store:"Local Fruit Stand", price:90, imageKey:"LocalFruitStand"},
                        {lat:8.366333185413124, lng:124.865598029675, store:"Phebus Fruit Store", price:80, imageKey:"PhebusFruitStore"}
                    ]},
                    {name: "Pineapple", price: 80, locations:[
                        {lat:8.36736, lng:124.86700, store:"Fruit Stand Near Hypermart", price:65, imageKey:"FruitStand(Hypermart)"},
                        { lat: 8.3657, lng: 124.8651, store: "Manolo Fortich Public Market", price: 55, imageKey: "Public Market" },
                        {lat:8.366493398860603, lng:124.86561119174547, store:"Local Fruit Stand", price:60, imageKey:"LocalFruitStand"},
                        {lat:8.366333185413124, lng:124.865598029675, store:"Phebus Fruit Store", price:60, imageKey:"PhebusFruitStore"}
                    ]},
                    {name: "Apple", price: 50, locations:[
                         {lat:8.36736, lng:124.86700, store:"Fruit Stand Near Hypermart", price:25, imageKey:"FruitStand(Hypermart)"},
                        { lat: 8.3657, lng: 124.8651, store: "Manolo Fortich Public Market", price: 20, imageKey: "Public Market" },
                        {lat:8.366493398860603, lng:124.86561119174547, store:"Local Fruit Stand", price:15, imageKey:"LocalFruitStand"},
                        {lat:8.366333185413124, lng:124.865598029675, store:"Phebus Fruit Store", price:18, imageKey:"PhebusFruitStore"}
                    ]},
                     {name: "Mayonnaise", price: 50, locations:[
                        { lat: 8.3657, lng: 124.8651, store: "Manolo Fortich Public Market", price: 28, imageKey: "Public Market" },
                        { lat: 8.3672, lng: 124.8672, store: "Prince Hypermart", price: 35, imageKey: "Prince Hypermart" },
                        { lat: 8.363752734329369, lng: 124.86973813434287, store: "Mom and Pap's", price: 33, imageKey: "MapandPap's" },
                        { lat: 8.368036316822822, lng: 124.86738480853599, store: "Ck Mart", price: 30, imageKey: "Ck Mart" },
                        { lat: 8.366676076358782, lng: 124.8647116150032, store: "Local Vendor", price: 29, imageKey: "Local Vendor" },
                        { lat: 8.36755194100574, lng: 124.86514572750262, store: "7/11", price: 38, imageKey: "7/11" } 
                    ]}, 
                    {name: "Banana", price: 50, locations:[
                        {lat:8.36736, lng:124.86700, store:"Fruit Stand Near Hypermart", price:30, imageKey:"FruitStand(Hypermart)"},
                        { lat: 8.3657, lng: 124.8651, store: "Manolo Fortich Public Market", price: 35, imageKey: "Public Market" },
                        {lat:8.366493398860603, lng:124.86561119174547, store:"Local Fruit Stand", price: 35, imageKey:"LocalFruitStand"},
                        {lat:8.366333185413124, lng:124.865598029675, store:"Phebus Fruit Store", price: 33, imageKey:"PhebusFruitStore"}
                    ]}
                ]
                    },
    "humba": {
    title: "Humba",
    ingredients: [
        { name: "Pork Belly", price: 280, locations: [
            { lat: 8.3672, lng: 124.8672, store: "Prince Hypermart", price: 280, imageKey: "prince" },
            { lat: 8.3654, lng: 124.8651, store: "Local Meat Shop", price: 270, imageKey: "grocery" },
            { lat: 8.3679, lng: 124.8672, store: "Alexa's Meatshop", price: 275, imageKey: "central_market" }
        ]},

        { name: "Soy Sauce", price: 20, locations: [
        { lat: 8.3657, lng: 124.8651, store: "Manolo Fortich Public Market", price: 20, imageKey: "Public Market" },
        { lat: 8.3672, lng: 124.8672, store: "Prince Hypermart", price: 20, imageKey: "Prince Hypermart" },
        { lat: 8.363752734329369, lng: 124.86973813434287, store: "Mom and Pap's", price: 13, imageKey: "MapandPap's" },
        { lat: 8.368036316822822, lng: 124.86738480853599, store: "Ck Mart", price: 13, imageKey: "Ck Mart" },
        { lat: 8.366676076358782, lng: 124.8647116150032, store: "Local Vendor", price: 20, imageKey: "Local Vendor" },
        { lat: 8.36755194100574, lng: 124.86514572750262, store: "7/11", price: 20, imageKey: "7/11" } 
        ]},

        { name: "Vinegar", price: 15, locations: [
         { lat: 8.3657, lng: 124.8651, store: "Manolo Fortich Public Market", price: 10, imageKey: "Public Market" },
         { lat: 8.3672, lng: 124.8672, store: "Prince Hypermart", price: 15, imageKey: "Prince Hypermart" },
         { lat: 8.363752734329369, lng: 124.86973813434287, store: "Mom and Pap's", price: 12, imageKey: "MapandPap's" },
         { lat: 8.368036316822822, lng: 124.86738480853599, store: "Ck Mart", price: 12, imageKey: "Ck Mart" },
         { lat: 8.366676076358782, lng: 124.8647116150032, store: "Local Vendor", price: 10, imageKey: "Local Vendor" },
         { lat: 8.36755194100574, lng: 124.86514572750262, store: "7/11", price: 15, imageKey: "7/11" } 
        ]},

        { name: "Banana Blossoms", price: 25, locations: [
         { lat: 8.3672, lng: 124.8672, store: "Prince Hypermart", price: 25, imageKey: "prince" },
         { lat: 8.368036316822822, lng: 124.86738480853599, store: "Ck Mart", price: 22, imageKey: "Ck Mart" },
         { lat: 8.365606756516602, lng: 124.86520285192277, store: "Manolo Fortich Public Market", price: 20, imageKey: "Public Market" },
         { lat: 8.366676076358782, lng: 124.8647116150032, store: "Local Vendor", price: 20, imageKey: "Local Vendor" }
        ]},

        { name: "Tausi (Black Beans)", price: 20, locations: [
        { lat: 8.3657, lng: 124.8651, store: "Manolo Fortich Public Market", price: 20, imageKey: "Public Market" },
        { lat: 8.3672, lng: 124.8672, store: "Prince Hypermart", price: 20, imageKey: "Prince Hypermart" },
        { lat: 8.363752734329369, lng: 124.86973813434287, store: "Mom and Pap's", price: 20, imageKey: "MapandPap's" },
        { lat: 8.368036316822822, lng: 124.86738480853599, store: "Ck Mart", price: 20, imageKey: "Ck Mart" },
        { lat: 8.366676076358782, lng: 124.8647116150032, store: "Local Vendor", price: 20, imageKey: "Local Vendor" } 
        ]},

        { name: "Brown Sugar", price: 18, locations: [
        { lat: 8.3657, lng: 124.8651, store: "Manolo Fortich Public Market", price: 16, imageKey: "Public Market" },
        { lat: 8.3672, lng: 124.8672, store: "Prince Hypermart", price: 18, imageKey: "Prince Hypermart" },
        { lat: 8.368036316822822, lng: 124.86738480853599, store: "Ck Mart", price: 15, imageKey: "Ck Mart" },
        { lat: 8.366676076358782, lng: 124.8647116150032, store: "Local Vendor", price: 15, imageKey: "Local Vendor" } 
        ]},

        { name: "Star Anise", price: 10, locations: [
        { lat: 8.368036316822822, lng: 124.86738480853599, store: "Ck Mart", price: 10, imageKey: "Ck Mart" },
        { lat: 8.365606756516602, lng: 124.86520285192277, store: "Manolo Fortich Public Market", price: 9, imageKey: "Public Market" },
        { lat: 8.366676076358782, lng: 124.8647116150032, store: "Local Vendor", price: 9, imageKey: "Local Vendor" }
        ]},

        { name: "Pineapple Juice", price: 28, locations: [
         { lat: 8.3657, lng: 124.8651, store: "Manolo Fortich Public Market", price: 22, imageKey: "Public Market" },
         { lat: 8.3672, lng: 124.8672, store: "Prince Hypermart", price: 26, imageKey: "Prince Hypermart" },
         { lat: 8.363752734329369, lng: 124.86973813434287, store: "Mom and Pap's", price: 25, imageKey: "MapandPap's" },
         { lat: 8.368036316822822, lng: 124.86738480853599, store: "Ck Mart", price: 25, imageKey: "Ck Mart" },
         { lat: 8.366676076358782, lng: 124.8647116150032, store: "Local Vendor", price: 23, imageKey: "Local Vendor" },
         { lat: 8.36755194100574, lng: 124.86514572750262, store: "7/11", price: 28, imageKey: "7/11" } 
        ]}
    ]
    },
    "beef steak": {
    title: "Beef Steak (Bistek)",
    ingredients: [
        { name: "Beef", price: 320, locations: [
            { lat: 8.3672, lng: 124.8672, store: "Prince Hypermart", price: 320, imageKey: "Prince Hypermart" },
            { lat: 8.3654, lng: 124.8651, store: "Local Meat Shop", price: 310, imageKey: "grocery" },
            { lat: 8.3679, lng: 124.8672, store: "Alexa's Meatshop", price: 315, imageKey: "central_market" }
        ]},

        { name: "Soy Sauce", price: 20, locations: [
        { lat: 8.3657, lng: 124.8651, store: "Manolo Fortich Public Market", price: 20, imageKey: "Public Market" },
        { lat: 8.3672, lng: 124.8672, store: "Prince Hypermart", price: 20, imageKey: "Prince Hypermart" },
        { lat: 8.363752734329369, lng: 124.86973813434287, store: "Mom and Pap's", price: 13, imageKey: "MapandPap's" },
        { lat: 8.368036316822822, lng: 124.86738480853599, store: "Ck Mart", price: 13, imageKey: "Ck Mart" },
        { lat: 8.366676076358782, lng: 124.8647116150032, store: "Local Vendor", price: 20, imageKey: "Local Vendor" },
        { lat: 8.36755194100574, lng: 124.86514572750262, store: "7/11", price: 20, imageKey: "7/11" } 
        ]},

        { name: "Calamansi", price: 15, locations: [
            { lat: 8.3657, lng: 124.8651, store: "Manolo Fortich Public Market", price: 12, imageKey: "Public Market" },
            { lat: 8.366676076358782, lng: 124.8647116150032, store: "Local Vendor", price: 10, imageKey: "Local Vendor" }
        ]},

        { name: "Onion Rings", price: 30, locations: [
            { lat: 8.365575363390583, lng: 124.86521825090732, store: "Manolo Fortich Public Market", price: 30, imageKey: "Public Market" },
            { lat: 8.366676076358782, lng: 124.8647116150032, store: "Local Vendor", price: 35, imageKey: "Local Vendor" }
        ]},

        { name: "Garlic", price: 25, locations: [
            { lat: 8.365575363390583, lng: 124.86521825090732, store: "Manolo Fortich Public Market", price: 20, imageKey: "Public Market" },
            { lat: 8.366676076358782, lng: 124.8647116150032, store: "Local Vendor", price: 23, imageKey: "Local Vendor" }
        ]},

        { name: "Cooking Oil", price: 30, locations: [
        { lat: 8.3657, lng: 124.8651, store: "Manolo Fortich Public Market", price: 10, imageKey: "Public Market" },
        { lat: 8.3672, lng: 124.8672, store: "Prince Hypermart", price: 35, imageKey: "Prince Hypermart" },
        { lat: 8.368036316822822, lng: 124.86738480853599, store: "Ck Mart", price: 25, imageKey: "Ck Mart" },
        { lat: 8.366676076358782, lng: 124.8647116150032, store: "Local Vendor", price: 25, imageKey: "Local Vendor" },
        { lat: 8.36755194100574, lng: 124.86514572750262, store: "7/11", price: 35, imageKey: "7/11" } 
        ]},

        { name: "Black Pepper", price: 10, locations: [
        { lat: 8.3657, lng: 124.8651, store: "Manolo Fortich Public Market", price: 10, imageKey: "Public Market" },
        { lat: 8.368036316822822, lng: 124.86738480853599, store: "Ck Mart", price: 9, imageKey: "Ck Mart" },
        { lat: 8.3672, lng: 124.8672, store: "Prince Hypermart", price: 20, imageKey: "Prince Hypermart" },
        { lat: 8.363752734329369, lng: 124.86973813434287, store: "Mom and Pap's", price: 15, imageKey: "MapandPap's" },
        { lat: 8.366676076358782, lng: 124.8647116150032, store: "Local Vendor", price: 10, imageKey: "Local Vendor" },
        { lat: 8.36755194100574, lng: 124.86514572750262, store: "7/11", price: 25, imageKey: "7/11" } 
        ]}
    ]
}
};

        const recipeListDiv = document.getElementById('recipeList');
        Object.keys(mockRecipes).forEach(key => {
            const button = document.createElement('button');
            button.textContent = mockRecipes[key].title;
            button.onclick = () => searchRecipe(key);
            recipeListDiv.appendChild(button);
        });

        function searchRecipe(recipeKey = null) {
            let query;
            if (recipeKey) {
                query = recipeKey;
            } else {
                query = document.getElementById('recipeInput').value.toLowerCase().trim();
            }

            if (!query) {
                alert("Please enter a recipe name or click on a recipe.");
                return;
            }

            const recipe = mockRecipes[query];
            if (!recipe) {
                alert("Recipe not found. Try 'Chicken Curry' or 'Pasta'.");
                return;
            }

            
            markers.forEach(marker => map.removeLayer(marker));
            markers = [];

            
            document.getElementById('recipeTitle').textContent = recipe.title;
            const ingredientsList = document.getElementById('ingredientsList');
            ingredientsList.innerHTML = '';

            recipe.ingredients.forEach(ing => {
                const li = document.createElement('li');
                li.textContent = `${ing.name} - Approx. ₱${ing.price}`;
                li.onclick = () => showIngredientLocations(ing);
                ingredientsList.appendChild(li);
            });

            document.getElementById('ingredientsSection').style.display = 'block'; 
            
        }

        function showIngredientLocations(ingredient) {
            
            markers.forEach(marker => map.removeLayer(marker));
            markers = [];

        
            ingredient.locations.forEach(loc => {
                const imgUrl = getImageUrl(loc.imageKey);
                const imgHtml = imgUrl
                    ? `<a href="${imgUrl}" target="_blank" rel="noopener noreferrer">
                           <img class="popup-image" src="${imgUrl}" alt="${loc.store}" />
                       </a>`
                    : '';
                const popup = `
                    ${imgHtml}<br>
                    <b>${loc.store}</b><br>
                    ${ingredient.name}: ₱${loc.price}
                `;
                 const marker = L.marker([loc.lat, loc.lng], {icon: customIcon}).addTo(map).bindPopup(popup);
                 markers.push(marker);
             });

            
            if (markers.length > 0) {
                const group = new L.featureGroup(markers);
                map.fitBounds(group.getBounds());
            }
        }
        searchRecipe("chicken curry");
    </script>

</body>
</html>